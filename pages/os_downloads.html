<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="d-page-title">Getnaro - OS Download</title>
    <link rel="stylesheet" href="/stylesheets/header.css">
    <link rel="stylesheet" href="/stylesheets/ai_assistant.css">
    <link rel="stylesheet" href="/stylesheets/downloads.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <meta name="robots" content="index, follow">
    <link rel="icon" type="image/x-icon" href="/assests/Favicon.png">
    
    <style>
        /* Shared Loading */
        .loading-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: var(--bg); z-index: 100; display: flex; justify-content: center; align-items: center; }
        .loader-spinner { border: 4px solid #333; border-top: 4px solid #00e676; border-radius: 50%; width: 50px; height: 50px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        /* === 1. MASTER LAYOUT: Clean Two-Column (MS Store Aesthetic) === */
        .gn-os-view-grid {
            margin-top: 150px;
            margin-bottom: 80px;
            display: grid;
            grid-template-columns: 2fr 1fr; /* Info is wider (2fr), Specs/Video is narrower (1fr) */
            gap: 40px;
            width: 90%;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
            align-items: flex-start;
        }

        /* === 2. LEFT COLUMN: APP HEADER & DESCRIPTION (THEME SAFE) === */
        .gn-os-header-block {
            padding: 20px;
            background: var(--box); /* <-- USE THEME VARIABLE */
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            color: var(--text); /* <-- USE THEME VARIABLE */
            transition: background 0.3s, color 0.3s;
        }

        .gn-os-header-top {
            display: flex;
            gap: 30px;
            align-items: center;
            padding-bottom: 30px;
            border-bottom: 1px solid var(--border-color, #333);
            margin-bottom: 30px;
        }

        .gn-os-header-top img {
            width: 160px;
            height: 160px;
            border-radius: 20px;
            object-fit: contain;
            flex-shrink: 0;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        .gn-os-title-block h1 {
            font-size: 3.2rem;
            font-weight: 800;
            color: var(--text); /* <-- USE THEME VARIABLE */
            margin: 0 0 10px 0;
        }

        .gn-os-category {
            font-size: 1rem;
            font-weight: bold;
            color: #00e676;
            text-transform: uppercase;
        }
        
        .gn-os-description {
            color: var(--text); /* Ensure text is theme-safe */
        }
        .gn-os-description p {
            font-size: 1.1rem;
            line-height: 1.7;
            color: var(--text-secondary, #ccc);
        }

        /* === 3. RIGHT COLUMN: SPECS, VIDEO & KEY FEATURES (THEME SAFE) === */
        
        .gn-os-specs-card, .gn-os-features-card {
            background: var(--box); /* <-- USE THEME VARIABLE */
            padding: 25px;
            border-radius: 16px;
            margin-bottom: 25px;
            border: 1px solid var(--border-color, #333);
            color: var(--text); /* <-- USE THEME VARIABLE */
            transition: background 0.3s, color 0.3s;
        }
        
        /* Specs Grid */
        .gn-os-specs-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        .os-spec-item h6 {
            text-transform: uppercase;
            font-size: 0.8rem;
            color: #9F00FF; /* Accent color, generally fine */
            margin-bottom: 5px;
        }
        .os-spec-item p {
            font-size: 1rem;
            font-weight: bold;
            color: var(--text);
        }
        
        /* Download Button */
        .gn-btn-download {
            color: white !important; /* Forces white text on the button */
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s;
            text-align: center;
            box-shadow: 0 4px 15px rgba(159, 0, 255, 0.4);
            display: inline-flex;
            gap: 10px;
            align-items: center;
        }

        /* Light Mode specific overrides to ensure contrast */
        .light-mode .gn-os-header-block,
        .light-mode .gn-os-specs-card,
        .light-mode .gn-os-features-card {
            background: #ffffff !important;
            border-color: #ddd !important;
        }
        .light-mode .gn-os-description p,
        .light-mode .os-spec-item p,
        .light-mode .gn-os-features-card p {
            color: #555 !important;
        }
        .light-mode .gn-os-title-block h1 {
             color: #111 !important;
        }

        /* Responsive Adjustments */
        @media (max-width: 1024px) {
            .gn-os-view-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }
        }
    </style>
</head>
<body>
    <canvas id="gn-particles"></canvas>
    
    <div class="heading">
        <a href="/index.html"><img src="/assests/logo-getnaro-nobg.png" class="logo"></a>
        <h4>Getnaro</h4>
        <ul>
            <li><a href="/index.html">HOME</a></li>
            <li><a href="/pages/community.html">COMMUNITY</a></li>
            <li><a href="/pages/login.html">ACCOUNT</a></li>
            <li><a href="/pages/about.html">ABOUT US</a></li>
            <li><a href="/pages/faq.html">FAQ</a></li>
        </ul>
        <button id="theme-toggle" class="theme-toggle"><i id="theme-icon" class="fa-solid fa-moon"></i></button>
        <div id="gn-search-btn" class="gn-search-btn"><i class="fa-solid fa-magnifying-glass"></i></div>
        <a class="dl" href="/pages/getnaro-app.html"><i class="fa-solid fa-download"></i> DOWNLOAD APP</a>
    </div>

    <div class="container" id="dynamic-container">
        
        <div id="os-view-root" class="gn-os-view-grid" style="display:none; opacity: 0; transition: opacity 0.5s ease;">
            
            <div class="gn-os-header-block">
                
                <div class="gn-os-header-top">
                    <img id="d-os-image" src="/assests/logo-getnaro-nobg.png" alt="OS Logo">
                    <div class="gn-os-title-block">
                        <span class="gn-os-category" id="d-os-category">Loading...</span>
                        <h1 id="d-os-title">Loading OS Name</h1>
                        
                        <a href="#" class="gn-btn-download" id="d-btn-download" target="_blank">
                            <i class="fa-solid fa-download"></i> DOWNLOAD FULL ISO
                        </a>
                    </div>
                </div>

                <div class="gn-os-description">
                    <h2 class="text-xl font-bold text-white mb-3"><i class="fa-solid fa-file-lines mr-2"></i> Description</h2>
                    <p id="d-os-desc">Loading application details...</p>
                </div>
            </div>

            <div class="gn-os-right-side">
                
                <div class="video-container" id="d-os-video-container">
                    <iframe id="d-os-youtube" width="100%" height="100%" src="about:blank" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="border-radius: 12px;"></iframe>
                </div>
                
                <div class="gn-os-specs-card">
                    <h4 class="text-xl font-bold mb-4 text-white"><i class="fa-solid fa-cogs mr-2"></i> Technical Specifications</h4>
                    <div class="gn-os-specs-grid">
                        <div class="os-spec-item"><h6>Architecture</h6><p id="d-os-arch">x64</p></div>
                        <div class="os-spec-item"><h6>File Size</h6><p id="d-os-size">~7.5 GB</p></div>
                        <div class="os-spec-item"><h6>Release Date</h6><p id="d-os-release">2025-12-05</p></div>
                        <div class="os-spec-item"><h6>Status</h6><p style="color:#00e676;">Verified</p></div>
                    </div>
                </div>

                <div class="gn-os-features-card">
                    <h4><i class="fa-solid fa-star mr-2"></i> Key Features</h4>
                    <p id="d-os-features">Standard Installation, Secure Boot, Optimized</p>
                </div>
                
            </div>

        </div>

        <div id="page-loader" class="loading-overlay"><div class="loader-spinner"></div></div>
    </div>

<footer class="footer">
    <div class="footer-container">

        <div class="footer-col">
            <h3>Getnaro</h3>
            <p>Official download redirection hub for Windows software, tools, utilities and drivers—clean, safe & ad-free.</p>
        </div>
        <div class="footer-col">
            <h3>Quick Links</h3>
            <a href="/pages/t&c.html">Terms & Conditions</a><br>
            <a href="/pages/coc.html">Code Of Conduct</a><br>
            <a href="/pages/privacypolicy.html">Privacy Policy</a><br>
            <a href="/pages/contact.html">Contact</a>
        </div>

        <div class="footer-col">
            <h3>Follow Us</h3>
            <div class="footer-social">
                 <a href="https://www.instagram.com/narotech.india" target="_blank"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://discord.gg/mcxbEsxXcQ" target="_blank"><i class="fa-brands fa-discord"></i></a>
                <a href="https://whatsapp.com/channel/0029Vb7IFu7HwXbKP3roZa0E" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="https://www.reddit.com/r/narotech" target="_blank"><i class="fa-brands fa-reddit" ></i></a>
                <a href="https://www.youtube.com/@narotechofc" target="_blank"><i class="fa-brands fa-youtube"></i></a>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        © 2025 Getnaro — Developed by <a href="/pages/narotech.html" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">Narotech</a> • Hosted on GitHub • Domain by BigRock
    </div>
</footer>

    <script src="/scripts/tod.js"></script>
    <script src="/scripts/particles.js"></script>
    <script src="/scripts/theme.js"></script>
    <script src="/scripts/hamburger.js"></script>
    <script type="module" src="/scripts/appstats.js"></script>
    <script type="module" src="/scripts/app_tracking.js"></script>
    <script type="module" src="/scripts/header_auth.js"></script>
    <script type="module" src="/scripts/firebase-config.js"></script>
    <script type="module" src="/scripts/ai_assistant.js"></script>
    <script type="module" src="/scripts/stats.js"></script>

    <script type="module">
        // --- RTDB APP LOADER for os_downloads.html (Functionally Unchanged) ---
        import { mainApp } from "/scripts/firebase-config.js";
        import { getDatabase, ref, get, runTransaction } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";
        
        const rtdb = getDatabase(mainApp);     

        async function loadOS() {
            const urlParams = new URLSearchParams(window.location.search);
            const osId = urlParams.get('id');
            const category = urlParams.get('cat');

            if (!osId || !category) {
                document.getElementById('page-loader').style.display = 'none';
                document.getElementById('os-view-root').style.display = 'grid';
                document.getElementById('d-os-title').innerText = "Invalid OS Link";
                return;
            }

            try {
                const osRef = ref(rtdb, `os_config/featured_os/${category}/${osId}`);
                const osSnapshot = await get(osRef);

                if (osSnapshot.exists()) {
                    const data = osSnapshot.val();
                    
                    document.getElementById('d-os-title').innerText = data.name || "Unknown OS";
                    document.getElementById('d-os-desc').innerText = data.description || "No description available.";
                    document.getElementById('d-os-category').innerText = category.toUpperCase();
                    document.getElementById('d-os-arch').innerText = data.architecture || "N/A";
                    document.getElementById('d-os-release').innerText = data.releaseDate || "N/A";
                    document.getElementById('d-os-size').innerText = data.fileSize || "N/A";
                    document.getElementById('d-os-features').innerText = data.keyFeatures || "Standard Installation";
                    document.getElementById('d-page-title').innerText = `${data.name} - Download`;

                    const mainImgSrc = data.image || "/assests/logo-getnaro-nobg.png";
                    const img = document.getElementById('d-os-image');
                    img.src = mainImgSrc;
                    img.onerror = () => { img.src = "/assests/logo-getnaro-nobg.png"; };
                    
                    if (data.youtubeId) {
                        const iframe = document.getElementById('d-os-youtube');
                        iframe.src = `https://www.youtube.com/embed/${data.youtubeId}?rel=0`;
                    } else {
                        document.getElementById('d-os-video-container').style.display = 'none';
                    }

                    const dlBtn = document.getElementById('d-btn-download');
                    if (data.downloadLink) {
                        dlBtn.href = data.downloadLink;
                        dlBtn.addEventListener("click", () => {
                            const totalDlRef = ref(rtdb, "stats/total_downloads");
                            runTransaction(totalDlRef, (current) => (current || 0) + 1);
                            const safeName = data.name.replace(/[.#$/\[\]]/g, "_"); 
                            const osDlRef = ref(rtdb, `os_downloads/${safeName}`);
                            runTransaction(osDlRef, (current) => (current || 0) + 1);
                        }, { once: false });
                    } else {
                        dlBtn.style.opacity = "0.5";
                        dlBtn.innerText = "Unavailable";
                        dlBtn.href = "#";
                    }

                    setTimeout(() => {
                        document.getElementById('page-loader').style.display = 'none';
                        document.getElementById('os-view-root').style.display = 'grid';
                        void document.getElementById('os-view-root').offsetWidth; 
                        document.getElementById('os-view-root').style.opacity = '1';
                    }, 500); 

                } else {
                    document.getElementById('page-loader').style.display = 'none';
                    document.getElementById('d-os-title').innerText = "OS Not Found";
                    document.getElementById('os-view-root').style.display = 'grid';
                    document.getElementById('os-view-root').style.opacity = '1';
                }
            } catch (error) {
                console.error("❌ Critical Error loading OS:", error);
                document.getElementById('page-loader').style.display = 'none';
                document.getElementById('d-os-title').innerText = "Load Error";
                alert("Failed to load OS data. Check console for details.");
            }
        }
        
        document.addEventListener('DOMContentLoaded', loadOS);
    </script>
</body>
</html>