<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GetNaro - Patch Notes History</title>
    <link rel="stylesheet" href="/stylesheets/header.css">
    <link rel="stylesheet" href="/stylesheets/ai_assistant.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    
    <style>
        .patch-notes-list {
            max-width: 1000px;
            margin: auto;
        }
        .patch-card {
            background: var(--box); 
            border: 2px solid #9F00FF55; 
            border-radius: 16px; 
            padding: 30px; 
            margin-bottom: 40px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.3s;
        }
        .patch-card:hover {
            box-shadow: 0 15px 40px rgba(159, 0, 255, 0.4);
            transform: translateY(-3px);
        }
        .patch-header {
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 20px;
            border-bottom: 1px dashed #9F00FF33;
            padding-bottom: 10px;
        }
        .patch-title {
            font-size: 38px; 
            color: var(--text);
            margin: 0;
        }
        .patch-category {
            background: #9F00FF; 
            color: white; 
            padding: 6px 15px; 
            border-radius: 8px; 
            font-size: 14px; 
            font-weight: bold;
        }
        
        /* Content Elements */
        .patch-section {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--box-border, #333);
        }
        .patch-section h4 {
            font-size: 22px;
            color: #9F00FF;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }
        .patch-section h4 i {
            margin-right: 10px;
        }
        .patch-body-item {
            padding-left: 10px;
            margin-bottom: 10px;
        }
        .patch-body-item.bullet {
            font-size: 17px;
            color: var(--text);
            display: flex;
            align-items: flex-start;
        }
        .patch-body-item.bullet i {
            flex-shrink: 0;
            margin-right: 10px;
            margin-top: 5px;
            color: #ccc;
        }
        .patch-body-item.code-block {
            background: #111;
            padding: 10px;
            border-radius: 6px;
            font-family: monospace;
            white-space: pre-wrap;
            font-size: 14px;
            border-left: 4px solid #00e676; /* Green for code */
            color: #00e676;
        }
        .patch-body-item.quote {
            border-left: 4px solid #ffcc00; /* Yellow for quotes */
            padding: 10px 15px;
            font-style: italic;
            background: #1e1e1e;
            border-radius: 4px;
            color: #ffcc00;
        }
        .patch-body-item.subheading {
            font-size: 18px;
            font-weight: bold;
            color: var(--text);
            margin-top: 15px;
            margin-bottom: 5px;
            border-bottom: 1px dotted #333;
            padding-bottom: 3px;
        }

        /* Light mode adjustments */
        .light-mode .patch-card {
            background: #fff;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        .light-mode .patch-body-item.code-block {
            background: #eee;
            color: #008000;
        }
        .light-mode .patch-body-item.quote {
             background: #ffffe0;
             color: #333;
        }
    </style>
</head>
<body class="dark-mode">
 <canvas id="gn-particles"></canvas>
    <!-- ------------------ HEADER ------------------ -->
<div class="heading">

    <a href="/index.html"><img src="/assests/logo-getnaro-nobg.png" class="logo"></a>
    <h4>Getnaro</h4>
    <ul>
        <li><a href="/index.html" 
        >HOME</a></li>
        <li><a href="/pages/community.html">COMMUNITY</a></li>
        <li><a href="/pages/login.html">ACCOUNT</a></li>
        <li><a href="/pages/about.html">ABOUT US</a></li>
        <li><a href="/pages/faq.html">FAQ</a></li>
    </ul>
<button id="theme-toggle" class="theme-toggle">
    <i id="theme-icon" class="fa-solid fa-moon"></i>
</button>
<div id="gn-search-btn" class="gn-search-btn">
    <i class="fa-solid fa-magnifying-glass"></i>
</div>
    <a class="dl"
        href="/pages/getnaro-app.html">
        <i class="fa-solid fa-download"></i> DOWNLOAD APP
    </a>
</div>
<!-- ========== GN MOBILE HAMBURGER (SAFE OUTSIDE HEADER) ========== -->
<button id="gn-hamburger" class="gn-hamburger" aria-expanded="false" aria-label="Open menu">
  <span class="gn-ham-box"><span class="gn-ham-inner"></span></span>
</button>

<nav id="gn-mobile-nav" class="gn-mobile-nav" aria-hidden="true">
  <div class="gn-mobile-backdrop" data-close></div>

  <div class="gn-mobile-panel" role="dialog" aria-modal="true">

    <!-- Mobile Search — triggers existing #gn-search-btn -->
    <button class="gn-mobile-btn gn-mobile-search" type="button" aria-label="Open search">
      <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i> <span>Search</span>
    </button>

    <!-- Theme toggle — triggers existing #theme-toggle -->
    <button class="gn-mobile-btn gn-mobile-theme" type="button" aria-label="Toggle theme">
      <i class="fa-solid fa-moon" aria-hidden="true"></i> <span>Theme</span>
    </button>

    <!-- EXACT UL you provided -->
    <ul class="gn-mobile-links" role="menu" aria-label="Mobile navigation">
      <li role="none"><a role="menuitem" href="/index.html">Home</a></li>
      <li role="none"><a role="menuitem" href="/pages/community.html">Community</a></li>
      <li role="none"><a role="menuitem" href="/pages/login.html">Account</a></li>
      <li role="none"><a role="menuitem" href="/pages/about.html">About Us</a></li>
      <li role="none"><a role="menuitem" href="/pages/faq.html">FAQ</a></li>
    </ul>

    <!-- Download App -->
     <a class="gn-mobile-download" href="/pages/getnaro-app.html">
      <i class="fa-solid fa-download" aria-hidden="true"></i> <span>Download App</span>
    </a>

  </div>
</nav>
<!-- ========== END GN MOBILE HAMBURGER ========== -->

<!-- REQUIRED: The FULLSCREEN SEARCH OVERLAY -->
<div id="gn-search-overlay" class="gn-search-overlay">
    <div class="gn-search-wrapper">
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <!-- CRITICAL: Input field must have the ID 'gn-search-input' -->
        <input type="text" id="gn-search-input" placeholder="Search here" style="overflow-x: hidden;" autocomplete="off">
        <button id="gn-search-close" class="close-btn">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>

    <!-- CRITICAL: Results container must have the ID 'gn-search-results' -->
    <div id="gn-search-results" class="gn-search-results">
        <!-- Results will be dynamically injected here by search.js -->
    </div>
</div>
<!-- ========== END GN MOBILE HAMBURGER ========== -->


<div id="gn-ai-root">
    <!-- Floating Button -->
    <div class="gn-ai-fab" id="gn-ai-trigger">
        <i class="fa-solid fa-robot" style="color: white !important;"></i>
        <span style="color: white !important;">Chat Now</span>
    </div>

    <div class="gn-ai-overlay" id="gn-ai-overlay">
        <div class="gn-ai-box">
            
            <!-- Header -->
            <div class="gn-ai-header">
                <div class="gn-ai-title">
                    <div class="gn-bot-avatar">
                        <i class="fa-solid fa-brain" style="color: aliceblue !important;"></i>
                    </div>
                    <div class="gn-ai-info">
                        <h3>Getnaro Assistant</h3>
                        <p>AI Powered • Voice Enabled</p>
                    </div>
                </div>
                <button class="gn-ai-close" id="gn-ai-close"><i class="fa-solid fa-xmark"></i></button>
            </div>

            <!-- Chat Area -->
            <div class="gn-ai-messages" id="gn-ai-chat">
                <!-- Intro Message -->
                <div class="msg bot">
                    Hello! I'm your Getnaro Assistant. I can help you find software, answer FAQs, or navigate the site.<br><br>
                    Try saying <b>"Install AMD Drivers"</b> or <b>"Open Profile"</b>.
                </div>
            </div>

            <!-- Input Area -->
            <div class="gn-ai-input-area">
                <button class="gn-ai-btn" id="btn-mic" title="Speak"><i class="fa-solid fa-microphone"></i></button>
                <button class="gn-ai-btn" id="btn-speaker" title="Text-to-Speech Toggle"><i class="fa-solid fa-volume-high"></i></button>
                <input type="text" class="gn-ai-input" id="gn-ai-input" placeholder="Type a message or ask a question..">
                <button class="gn-ai-btn" id="btn-send"><i class="fa-solid fa-paper-plane" style="color: aliceblue !important;"></i></button>
            </div>

        </div>
    </div>
</div>

    <div class="container" style="padding-top: 180px; min-height: 80vh;"> 
        <h1 class="patch-main-title" style="font-size: 55px; text-align: center; color: var(--text); margin-bottom: 20px; text-shadow: 0 0 10px #9F00FF44;">
            <i class="fa-solid fa-scroll" style="color: #9F00FF;"></i> GetNaro Patch Notes
        </h1>
        <p class="patch-subtitle" style="text-align: center; font-size: 20px; color: var(--text); opacity: 0.7; margin-bottom: 50px;">
            A complete history of all updates, fixes, and new features for the App and Website.
        </p>

        <div id="patch-notes-list" class="patch-notes-list">
            <div style="text-align: center; padding: 50px; color: #9F00FF;">
                <i class="fa-solid fa-spinner fa-spin fa-2x"></i>
                <p style="margin-top: 15px;">Loading updates from server...</p>
            </div>
        </div>

    </div>

    <footer class="footer">
        <div class="footer-container">
            <div class="footer-col">
                <h3>Getnaro</h3>
                <p>Official download redirection hub for Windows software, tools, utilities and drivers—clean, safe & ad-free.</p>
            </div>
            <div class="footer-col">
                <h3>Quick Links</h3>
                <a href="/pages/t&c.html">Terms & Conditions</a><br>
                <a href="/pages/coc.html">Code Of Conduct</a><br>
                <a href="/pages/privacypolicy.html">Privacy Policy</a><br>
                <a href="/pages/contact.html">Contact</a>
            </div>
            <div class="footer-col">
                <h3>Follow Us</h3>
                <div class="footer-social">
                      <a href="https://www.instagram.com/narotech.india" target="_blank"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://discord.gg/mcxbEsxXcQ" target="_blank"><i class="fa-brands fa-discord"></i></a>
                <a href="https://whatsapp.com/channel/0029Vb7IFu7HwXbKP3roZa0E" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="https://www.reddit.com/r/narotech" target="_blank"><i class="fa-brands fa-reddit" ></i></a>
                <a href="https://www.youtube.com/@narotechofc" target="_blank"><i class="fa-brands fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            © 2025 Getnaro — Developed by NaroTech • Hosted on GitHub • Domain by BigRock
        </div>
    </footer>

    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"></script>

<script type="module">
    import { initializeApp, getApps } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
    import { getFirestore, collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    
    const firebaseConfig = {
        apiKey: "AIzaSyCtX1G_OEXmkKtBNGzWQFEYiEWibrMIFrg",
        authDomain: "user-getnaro.firebaseapp.com",
        databaseURL: "https://user-getnaro-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "user-getnaro",
        storageBucket: "user-getnaro.firebasestorage.app",
        messagingSenderId: "264425704576",
        appId: "1:264425704576:web:cfd98a1f627e9a59cc2a65"
    };
    
    const app = getApps().length === 0 ? initializeApp(firebaseConfig) : getApps()[0];
    const firestore = getFirestore(app);

    const patchListContainer = document.getElementById('patch-notes-list');

    // Advanced Renderer for Block types
    function renderBlock(block) {
        if(!block || !block.type) return '';

        switch (block.type) {
            case 'heading':
                return `<h3 style="font-size: 24px; color: #fff; margin-top: 20px; margin-bottom: 10px; display:flex; align-items:center;">
                            ${block.icon ? `<i class="${block.icon}" style="color:#9F00FF; margin-right:10px;"></i>` : ''} 
                            ${block.content}
                        </h3>`;
            
            case 'paragraph':
                return `<p style="color: #ccc; font-size: 16px; margin-bottom: 10px; line-height: 1.6;">${block.content}</p>`;

            case 'list-item':
                return `<div style="display: flex; align-items: flex-start; margin-bottom: 8px; color: #ddd;">
                            <i class="fa-solid fa-angle-right" style="color: #9F00FF; margin-top: 5px; margin-right: 10px;"></i>
                            <span>${block.content}</span>
                        </div>`;

            case 'image':
            case 'video':
                // Check if it's a video based on extension or explicit type
                const isVideo = block.url.endsWith('.mp4') || block.type === 'video';
                if(isVideo) {
                    return `<div style="margin: 15px 0; border-radius: 8px; overflow: hidden; border: 1px solid #333;">
                                <video controls src="${block.url}" style="width:100%; display:block;"></video>
                                ${block.content ? `<p style="font-size:12px; color:#666; padding:5px; text-align:center;">${block.content}</p>` : ''}
                            </div>`;
                }
                return `<div style="margin: 15px 0; border-radius: 8px; overflow: hidden; border: 1px solid #333;">
                            <img src="${block.url}" alt="${block.content}" style="width:100%; display:block;">
                            ${block.content ? `<p style="font-size:12px; color:#666; padding:5px; text-align:center;">${block.content}</p>` : ''}
                        </div>`;

            case 'sub-box':
                return `<div style="background: rgba(159, 0, 255, 0.05); border-left: 4px solid #9F00FF; padding: 15px; margin: 15px 0; border-radius: 4px;">
                            <strong style="color: #fff; display:block; margin-bottom:5px;">${block.title}</strong>
                            <p style="color: #ccc; font-size: 14px; margin:0;">${block.content}</p>
                        </div>`;

            default:
                return '';
        }
    }

    function loadPatchNotes() {
        const q = query(collection(firestore, "patch_notes"), orderBy("releaseDate", "desc"));
        
        onSnapshot(q, (snapshot) => {
            let html = '';
            if (snapshot.empty) {
                patchListContainer.innerHTML = '<p style="text-align: center; font-size: 22px; color: #ccc;">No updates found.</p>';
                return;
            }

            snapshot.forEach(doc => {
                const patch = doc.data();
                const borderColor = patch.borderColor || '#9F00FF';
                
                // Build Content
                let contentHtml = '';
                if (patch.notes && Array.isArray(patch.notes)) {
                    patch.notes.forEach(block => {
                        contentHtml += renderBlock(block);
                    });
                }

                html += `
                    <div class="patch-card" style="border-color: ${borderColor}55; box-shadow: 0 10px 30px ${borderColor}11;">
                        <div class="patch-header" style="border-bottom: 1px dashed ${borderColor}33;">
                            <div>
                                <h2 class="patch-title" style="color: #fff;">${patch.version}</h2>
                                <p style="color: #777; font-size: 14px; margin-top:5px;">Released: ${patch.releaseDate}</p>
                            </div>
                            <span class="patch-category" style="background:${borderColor};">${patch.mainCategory || 'Update'}</span>
                        </div>
                        <div class="patch-body" style="padding-top: 20px;">
                            ${contentHtml}
                        </div>
                    </div>
                `;
            });

            patchListContainer.innerHTML = html;
        });
    }

    document.addEventListener('DOMContentLoaded', loadPatchNotes);
</script>
    </script>
    
    <script src="/scripts/tod.js"></script>
    <script src="/scripts/particles.js"></script>
    <script src="/scripts/theme.js"></script>
    <script src="/scripts/hamburger.js"></script>
    <script type="module" src="/scripts/search.js"></script>
    <script type="module" src="/scripts/header_auth.js"></script>

<script type="module" src="/scripts/announcement.js"></script>
</body>
</html>