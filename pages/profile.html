<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/header.css">
        <link rel="stylesheet" href="/stylesheets/ai_assistant.css">
    <title>Getnaro Online</title>
    <!-- FONTS & ICONS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- SEO + META -->
    <meta name="title" content="Getnaro — Free Software, Drivers & Tools Download Hub">
    <meta name="description"
        content="Getnaro is your all-in-one download hub for Windows software, drivers, tools, utilities and essential apps. Fast, safe and direct downloads with no ads or redirects. Updated daily.">
    <meta name="keywords"
        content="Getnaro, software download, drivers download, free pc tools, windows apps download, downloader website, pc utilities, direct download hub">
    <meta name="author" content="Getnaro Team">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://getnaro.com/">
    <!-- SOCIAL -->

    <meta property="og:type" content="website">
    <meta property="og:title" content="Getnaro — Free Software, Drivers & Tools Download Hub">
    <meta property="og:description"
        content="Download software, drivers, utilities and PC tools safely from Getnaro. Direct downloads without ads or redirects.">
    <meta property="og:image" content="https://getnaro.com/assets/getnaro-banner.jpg">
    <meta property="og:url" content="https://getnaro.com/">
    <meta name="twitter:card" content="summary_large_image">
    <!-- FAVICON -->
    <link rel="icon" type="image/x-icon" href="assests/Favicon.png">
</head>
<body>
 <canvas id="gn-particles"></canvas>
    <!-- ------------------ HEADER ------------------ -->
<div class="heading">

    <a href="/index.html"><img src="/assests/logo-getnaro-nobg.png" class="logo"></a>
    <h4>Getnaro</h4>
    <ul>
        <li><a href="/index.html" 
        >HOME</a></li>
        <li><a href="/pages/community.html">COMMUNITY</a></li>
        <li><a href="/pages/login.html" style="background-color:#9F00FF; color: white !important;
        padding: 10px ; 
        border-radius: 10px;">ACCOUNT</a></li>
        <li><a href="/pages/about.html">ABOUT US</a></li>
        <li><a href="/pages/faq.html">FAQ</a></li>
    </ul>
<button id="theme-toggle" class="theme-toggle">
    <i id="theme-icon" class="fa-solid fa-moon"></i>
</button>
<div id="gn-search-btn" class="gn-search-btn">
    <i class="fa-solid fa-magnifying-glass"></i>
</div>
    <a class="dl"
        href="/pages/getnaro-app.html">
        <i class="fa-solid fa-download"></i> DOWNLOAD APP
    </a>
</div>
<!-- ========== GN MOBILE HAMBURGER (SAFE OUTSIDE HEADER) ========== -->
<button id="gn-hamburger" class="gn-hamburger" aria-expanded="false" aria-label="Open menu">
  <span class="gn-ham-box"><span class="gn-ham-inner"></span></span>
</button>

<nav id="gn-mobile-nav" class="gn-mobile-nav" aria-hidden="true">
  <div class="gn-mobile-backdrop" data-close></div>

  <div class="gn-mobile-panel" role="dialog" aria-modal="true">

    <!-- Mobile Search — triggers existing #gn-search-btn -->
    <button class="gn-mobile-btn gn-mobile-search" type="button" aria-label="Open search">
      <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i> <span>Search</span>
    </button>

    <!-- Theme toggle — triggers existing #theme-toggle -->
    <button class="gn-mobile-btn gn-mobile-theme" type="button" aria-label="Toggle theme">
      <i class="fa-solid fa-moon" aria-hidden="true"></i> <span>Theme</span>
    </button>

    <!-- EXACT UL you provided -->
    <ul class="gn-mobile-links" role="menu" aria-label="Mobile navigation">
      <li role="none"><a role="menuitem" href="/index.html">Home</a></li>
      <li role="none"><a role="menuitem" href="/pages/community.html">Community</a></li>
      <li role="none"><a role="menuitem" href="/pages/login.html">Account</a></li>
      <li role="none"><a role="menuitem" href="/pages/about.html">About Us</a></li>
      <li role="none"><a role="menuitem" href="/pages/faq.html">FAQ</a></li>
    </ul>

    <!-- Download App -->
    <a class="gn-mobile-download" href="/pages/getnaro-app.html">
      <i class="fa-solid fa-download" aria-hidden="true"></i> <span>Download App</span>
    </a>

  </div>
</nav>
<!-- ========== END GN MOBILE HAMBURGER ========== -->

<!-- MODERN FULLSCREEN SEARCH -->
<div id="gn-search-overlay" class="gn-search-overlay">
    <div class="gn-search-wrapper">
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <input type="text" id="gn-search-input" placeholder="Search here" style="overflow-x: hidden;" autocomplete="off">
        <button id="gn-search-close" class="close-btn">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>

    <div id="gn-search-results" class="gn-search-results"></div>
</div>
<div id="gn-ai-root">
    <!-- Floating Button -->
    <div class="gn-ai-fab" id="gn-ai-trigger">
        <i class="fa-solid fa-robot" style="color: white !important;"></i>
        <span style="color: white !important;">Chat Now</span>
    </div>

    <div class="gn-ai-overlay" id="gn-ai-overlay">
        <div class="gn-ai-box">
            
            <!-- Header -->
            <div class="gn-ai-header">
                <div class="gn-ai-title">
                    <div class="gn-bot-avatar">
                        <i class="fa-solid fa-brain" style="color: aliceblue !important;"></i>
                    </div>
                    <div class="gn-ai-info">
                        <h3>Getnaro Assistant</h3>
                        <p>AI Powered • Voice Enabled</p>
                    </div>
                </div>
                <button class="gn-ai-close" id="gn-ai-close"><i class="fa-solid fa-xmark"></i></button>
            </div>

            <!-- Chat Area -->
            <div class="gn-ai-messages" id="gn-ai-chat">
                <!-- Intro Message -->
                <div class="msg bot">
                    Hello! I'm your Getnaro Assistant. I can help you find software, answer FAQs, or navigate the site.<br><br>
                    Try saying <b>"Install AMD Drivers"</b> or <b>"Open Profile"</b>.
                </div>
            </div>

            <!-- Input Area -->
            <div class="gn-ai-input-area">
                <button class="gn-ai-btn" id="btn-mic" title="Speak"><i class="fa-solid fa-microphone"></i></button>
                <button class="gn-ai-btn" id="btn-speaker" title="Text-to-Speech Toggle"><i class="fa-solid fa-volume-high"></i></button>
                <input type="text" class="gn-ai-input" id="gn-ai-input" placeholder="Type a message or ask a question..">
                <button class="gn-ai-btn" id="btn-send"><i class="fa-solid fa-paper-plane" style="color: aliceblue !important;"></i></button>
            </div>

        </div>
    </div>
</div>

<div class="container" > 
<!-- ==========================================
     START OF PROFILE CONTAINER CONTENT
     Paste this INSIDE <div class="container">
========================================== -->

<style>
    /* --- DASHBOARD LAYOUT --- */*{
            font-family: Getnaro;
        }
        @font-face {
            font-family: Getnaro;
            src: url(/assests/Getnaro-medium.ttf);
        }
        .container{
    margin-top: 100px;
    padding: 25px;
}
    .gn-dashboard {
        display: grid;
        grid-template-columns: 300px 1fr 1fr; 
        gap: 25px;
        width: 95%;
        max-width: 1400px;
        margin: 40px auto;
        min-height: 600px;
        animation: fadeInUp 0.5s ease;
    }

    /* --- GLASS CARD --- */
    .gn-card {
        background: var(--box);
        border: 1px solid rgba(159, 0, 255, 0.2);
        border-radius: 20px;
        padding: 25px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        display: flex;
        flex-direction: column;
        position: relative;
        overflow: hidden;
    }

    .gn-card:hover {
        box-shadow: 0 10px 40px rgba(159, 0, 255, 0.15);
        border-color: rgba(159, 0, 255, 0.5);
    }

    /* --- LEFT PROFILE COLUMN --- */
    .profile-col {
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
        height: 100%;
    }

    .brand-logo-mini {
        width: 60px;
        margin-bottom: 20px;
        align-self: flex-start;
        filter: drop-shadow(0 0 5px #9F00FF);
    }

    /* --- PROFILE PIC --- */
    .profile-pic-wrapper {
        position: relative;
        width: 130px;
        height: 130px;
        margin: 20px auto 30px auto;
        border-radius: 50%;
        cursor: pointer;
    }

    .profile-avatar {
        width: 100%;
        height: 100%;
        border-radius: 50%;
        object-fit: cover;
        border: 3px solid #9F00FF;
        box-shadow: 0 0 20px rgba(159, 0, 255, 0.4);
    }

    .profile-pic-overlay {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.6);
        display: flex; justify-content: center; align-items: center;
        opacity: 0; transition: 0.3s;
    }
    .profile-pic-wrapper:hover .profile-pic-overlay { opacity: 1; }
    .profile-pic-overlay i { color: white; font-size: 24px; }

    /* Upload Spinner */
    .profile-pic-wrapper.uploading .profile-avatar { opacity: 0.5; }
    .profile-pic-wrapper.uploading::after {
        content: ""; position: absolute; top: 0; left: 0; right: 0; bottom: 0;
        border: 3px solid transparent; border-top-color: #9F00FF;
        border-radius: 50%; animation: spin 1s linear infinite;
    }

    /* --- USER DETAILS --- */
    .user-details { width: 100%; text-align: left; margin-top: 10px; padding: 0 10px; flex: 1; }
    .user-detail-item { margin-bottom: 15px; padding-bottom: 10px; border-bottom: 1px solid rgba(159, 0, 255, 0.1); }
    .user-detail-item label { font-size: 11px; color: #9F00FF; font-weight: bold; display: block; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 1px; }
    .user-detail-item span { font-size: 15px; color: var(--text); font-weight: 500; display: block; word-break: break-all; }

    /* --- LOGOUT BUTTON --- */
    .gn-btn-logout {
        width: 100%;
        margin-top: 20px;
        background: transparent;
        border: 2px solid #ff4444;
        color: #ff4444;
        padding: 12px;
        border-radius: 12px;
        font-size: 15px;
        font-weight: bold;
        cursor: pointer;
        transition: 0.3s;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
    }

    .gn-btn-logout:hover {
        background: #ff4444;
        color: white;
        box-shadow: 0 5px 20px rgba(255, 68, 68, 0.3);
    }

    /* --- LISTS --- */
    .section-header { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 2px solid #9F00FF; }
    .section-header i { font-size: 24px; color: #9F00FF; }
    .section-header h3 { font-size: 20px; margin: 0; color: var(--text); font-weight: bold; }

    .scroll-list { flex: 1; overflow-y: auto; padding-right: 10px; display: flex; flex-direction: column; gap: 12px; }
    .scroll-list::-webkit-scrollbar { width: 6px; }
    .scroll-list::-webkit-scrollbar-thumb { background: #9F00FF; border-radius: 10px; }

    .list-item {
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        padding: 12px;
        display: flex; align-items: center; gap: 15px;
        transition: 0.2s; cursor: pointer;
    }
    .light-mode .list-item { background: rgba(0, 0, 0, 0.03); border-color: rgba(0, 0, 0, 0.1); }
    .list-item:hover { background: rgba(159, 0, 255, 0.1); transform: translateX(5px); border-color: #9F00FF; }

    .item-icon { width: 45px; height: 45px; border-radius: 8px; object-fit: cover; background: #000; }
    .item-info { flex: 1; }
    .item-info h4 { margin: 0 0 4px 0; font-size: 16px; color: var(--text); }
    .item-info p { margin: 0; font-size: 12px; opacity: 0.7; color: var(--text); }
    .status-badge { font-size: 10px; padding: 4px 8px; border-radius: 20px; background: #9F00FF; color: #fff; }

    .empty-state { text-align: center; margin-top: 50px; opacity: 0.6; }
    .empty-state i { font-size: 40px; margin-bottom: 10px; color: var(--text); }
    .empty-state p { color: var(--text); }

    #toast {
        position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%);
        background: #333; color: #fff; padding: 12px 24px; border-radius: 8px;
        display: none; z-index: 10000; border: 1px solid #9F00FF;
    }

    @keyframes spin { 100% { transform: rotate(360deg); } }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    
    @media (max-width: 992px) {
        .gn-dashboard { grid-template-columns: 1fr; }
        .profile-col { flex-direction: row; flex-wrap: wrap; justify-content: space-between; }
    }
</style>

<div class="gn-dashboard">
    
    <!-- 1. PROFILE COLUMN -->
    <div class="gn-card profile-col">
        <img src="/assests/logo-getnaro-nobg.png" alt="Logo" class="brand-logo-mini" onerror="this.style.display='none'">
        
        <div class="profile-pic-wrapper" id="pic-wrapper" title="Click to change photo">
            <!-- Default Avatar -->
            <img id="u-avatar" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" class="profile-avatar" alt="Profile">
            <div class="profile-pic-overlay"><i class="fa-solid fa-camera"></i></div>
            <input type="file" id="file-input" accept="image/*" style="display: none;">
        </div>

        <div class="user-details">
            <div class="user-detail-item">
                <label>Name</label> <span id="u-name">Loading...</span>
            </div>
            <div class="user-detail-item">
                <label>Username</label> <span id="u-username">...</span>
            </div>
            <div class="user-detail-item">
                <label>Email</label> <span id="u-email">Loading...</span>
            </div>
            <div class="user-detail-item">
                <label>Phone</label> <span id="u-phone">...</span>
            </div>
        </div>

        <!-- LOGOUT BUTTON -->
        <button id="btn-logout" class="gn-btn-logout">
            <i class="fa-solid fa-power-off"></i> Logout / Change Account
        </button>
    </div>

    <!-- 2. HISTORY COLUMN -->
    <div class="gn-card">
        <div class="section-header">
            <i class="fa-solid fa-clock-rotate-left"></i> <h3>Download History</h3>
        </div>
        <div id="history-list" class="scroll-list">
            <div class="empty-state"><i class="fa-solid fa-spinner fa-spin"></i><p>Loading...</p></div>
        </div>
    </div>

    <!-- 3. FAVOURITES COLUMN -->
    <div class="gn-card">
        <div class="section-header">
            <i class="fa-solid fa-heart"></i> <h3>My Favourites</h3>
        </div>
        <div id="fav-list" class="scroll-list">
            <div class="empty-state"><i class="fa-solid fa-spinner fa-spin"></i><p>Loading...</p></div>
        </div>
    </div>

</div>

<div id="toast">Notification</div>

<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, updateProfile, signOut } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-auth.js";
    import { getDatabase, ref, onValue, update as updateDB } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";
    import { getStorage, ref as storageRef, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-storage.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAJrJnSQI7X1YJHLOfHZkknmoAoiOiGuEo",
        authDomain: "getnaroapp.firebaseapp.com",
        databaseURL: "https://getnaroapp-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "getnaroapp",
        storageBucket: "getnaroapp.firebasestorage.app",
        messagingSenderId: "304744138530",
        appId: "1:304744138530:web:8166344d61cdfa127ec77b",
        measurementId: "G-FLBX24J98C"
    };

    try {
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getDatabase(app);
        const storage = getStorage(app);

        const els = {
            name: document.getElementById('u-name'),
            user: document.getElementById('u-username'),
            email: document.getElementById('u-email'),
            phone: document.getElementById('u-phone'),
            avatar: document.getElementById('u-avatar'),
            history: document.getElementById('history-list'),
            favs: document.getElementById('fav-list'),
            wrapper: document.getElementById('pic-wrapper'),
            fileInput: document.getElementById('file-input'),
            logoutBtn: document.getElementById('btn-logout')
        };

        const showToast = (msg) => {
            const t = document.getElementById('toast');
            if(t) { t.textContent = msg; t.style.display = 'block'; setTimeout(() => t.style.display = 'none', 3000); }
        };

        // 1. LOGOUT LOGIC
        if(els.logoutBtn) {
            els.logoutBtn.addEventListener('click', () => {
                if(confirm("Are you sure you want to logout?")) {
                    signOut(auth).then(() => {
                        showToast("Logged out successfully!");
                        setTimeout(() => window.location.href = '/pages/login.html', 1000);
                    }).catch((error) => {
                        showToast("Error logging out: " + error.message);
                    });
                }
            });
        }

        // 2. UPLOAD LOGIC (With Cache Busting)
        if(els.wrapper && els.fileInput) {
            els.wrapper.addEventListener('click', () => els.fileInput.click());
            
            els.fileInput.addEventListener('change', async (e) => {
                const file = e.target.files[0];
                const user = auth.currentUser;
                
                if (!file || !user) return;
                
                els.wrapper.classList.add('uploading');
                showToast("Uploading...");
                
                try {
                    // Create ref (overwrite existing)
                    const picRef = storageRef(storage, 'profile_pics/' + user.uid);
                    
                    // Upload
                    await uploadBytes(picRef, file);
                    
                    // Get URL
                    const url = await getDownloadURL(picRef);
                    
                    // Update Auth & DB
                    await updateProfile(user, { photoURL: url });
                    await updateDB(ref(db, 'users/' + user.uid), { photoURL: url });
                    
                    // FORCE UPDATE UI with Timestamp (Bypasses Browser Cache)
                    const cacheBuster = "?t=" + new Date().getTime();
                    els.avatar.src = url + cacheBuster;
                    
                    showToast("Profile picture updated!");
                    
                } catch (err) {
                    console.error(err);
                    if(err.code === 'storage/unauthorized') {
                        showToast("Error: Enable Storage in Firebase Console!");
                    } else {
                        showToast("Failed: " + err.message);
                    }
                } finally {
                    els.wrapper.classList.remove('uploading');
                }
            });
        }

        // 3. AUTH LISTENER
        let gotResponse = false;

        onAuthStateChanged(auth, (user) => {
            gotResponse = true;

            if (user) {
                // --- LOGGED IN ---
                if(els.name) els.name.textContent = user.displayName || "User";
                if(els.email) els.email.textContent = user.email;
                
                // Load Photo (Use cache busting if possible, otherwise simple URL)
                if(els.avatar && user.photoURL) {
                    // If URL already has params (Firebase ones do), append with &
                    const separator = user.photoURL.includes('?') ? '&' : '?';
                    els.avatar.src = user.photoURL + separator + "v=" + Math.random(); 
                }

                const userRef = ref(db, 'users/' + user.uid);
                onValue(userRef, (snapshot) => {
                    const data = snapshot.val() || {};
                    
                    if(els.phone) els.phone.textContent = data.phone || user.phoneNumber || "Not Set";
                    if(els.user) els.user.textContent = data.username ? `@${data.username}` : (user.displayName ? `@${user.displayName}` : "@user");
                    
                    // Also update from DB to be sure
                    if(els.avatar && data.photoURL) {
                         const separator = data.photoURL.includes('?') ? '&' : '?';
                         els.avatar.src = data.photoURL + separator + "db=" + Math.random(); 
                    }

                    renderList(data.history || {}, els.history, 'download');
                    renderList(data.favorites || {}, els.favs, 'heart');
                });

            } else {
                setGuestState();
            }
        });

        setTimeout(() => {
            if (!gotResponse) setGuestState();
        }, 2500);

        function setGuestState() {
            if(els.name) els.name.textContent = "Guest";
            if(els.email) els.email.textContent = "-";
            if(els.phone) els.phone.textContent = "-";
            if(els.user) els.user.textContent = "-";
            const loginLink = `<div class="empty-state"><p>Please <a href="/pages/login.html" style="color:#9F00FF;font-weight:bold;">Login</a></p></div>`;
            if(els.history) els.history.innerHTML = loginLink;
            if(els.favs) els.favs.innerHTML = loginLink;
        }

        function renderList(dataObj, container, type) {
            if(!container) return;
            const items = Object.values(dataObj);
            if (items.length === 0) {
                container.innerHTML = `<div class="empty-state"><i class="fa-solid ${type === 'download' ? 'fa-ghost' : 'fa-heart-crack'}"></i><p>No items.</p></div>`;
                return;
            }
            container.innerHTML = '';
            items.sort((a, b) => (b.timestamp || 0) - (a.timestamp || 0));
            items.forEach(item => {
                const icon = item.icon || 'https://cdn-icons-png.flaticon.com/512/3616/3616929.png';
                const name = item.appName || item.name || 'App';
                const date = item.timestamp ? new Date(item.timestamp).toLocaleDateString() : '';
                const div = document.createElement('div');
                div.className = 'list-item';
                div.innerHTML = `<img src="${icon}" class="item-icon"><div class="item-info"><h4>${name}</h4><p>${date}</p></div><span class="status-badge">${type === 'download' ? 'Installed' : 'Liked'}</span>`;
                container.appendChild(div);
            });
        }

    } catch (e) {
        console.error("CRITICAL ERROR:", e);
        document.getElementById('u-name').textContent = "Script Error";
    }
</script>
<!-- ==========================================
     END OF PROFILE CONTAINER CONTENT
========================================== -->
</div>
<footer class="footer">
    <div class="footer-container">

        <div class="footer-col">
            <h3>Getnaro</h3>
            <p>Official download redirection hub for Windows software, tools, utilities and drivers—clean, safe & ad-free.</p>
        </div>

        <div class="footer-col">
            <h3>Quick Links</h3>
            <a href="/pages/t&c.html">Terms & Conditions</a><br>
            <a href="/pages/coc.html">Code Of Conduct</a><br>
            <a href="/pages/privacypolicy.html">Privacy Policy</a><br>
            <a href="/pages/contact.html">Contact</a>
        </div>

        <div class="footer-col">
            <h3>Follow Us</h3>
            <div class="footer-social">
                 <a href="https://www.instagram.com/narotech.india" target="_blank"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://discord.gg/mcxbEsxXcQ" target="_blank"><i class="fa-brands fa-discord"></i></a>
                <a href="https://whatsapp.com/channel/0029Vb7IFu7HwXbKP3roZa0E" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="https://www.reddit.com/r/narotech" target="_blank"><i class="fa-brands fa-reddit" ></i></a>
                <a href="https://www.youtube.com/@narotechofc" target="_blank"><i class="fa-brands fa-youtube"></i></a>
            </div>
        </div>

    </div>
    <div class="footer-bottom">
        © 2025 Getnaro — Developed by NaroTech • Hosted on GitHub • Domain by BigRock
    </div>
</footer>
<script src="/scripts/tod.js"></script>
<script src="/scripts/tod.js"></script>
<script src="/scripts/tog.js"></script>
<script src="/scripts/caro.js"></script>
<script src="/scripts/particles.js"></script>
<script src="/scripts/theme.js"></script>
<script src="/scripts/search.js"></script>
<script src="/scripts/hamburger.js"></script>
<script type="module" src="/scripts/appstats.js"></script>
<script type="module" src="/scripts/app_tracking.js"></script>
<script type="module" src="/scripts/header_auth.js"></script>
<script type="module" src="/scripts/download-index.js"></script>
<script type="module" src="/scripts/ai_assistant.js"></script>
<script type="module" src="/scripts/stats.js"></script>
<script src="/scripts/caro.js"></script>
<script src="/scripts/particles.js"></script>
<script type="module" src="/scripts/download-index.js"></script>
<script type="module" src="/scripts/ai_assistant.js"></script>
<script type="module" src="/scripts/stats.js"></script>
<script src="/scripts/theme.js"></script>
<script src="/scripts/search.js"></script>
<script src="/scripts/hamburger.js"></script>
<script type="module" src="/scripts/header_auth.js"></script>
<script type="module">
/* When clicking download */
document.querySelectorAll(".gn-btn-download").forEach(btn => {
    btn.addEventListener("click", e => {
        const user = auth.currentUser;
        if (!user) return alert("Please login first.");

        const parent = btn.closest(".content-one");
        const appId = parent.dataset.app;

        update(ref(db, "users/" + user.uid + "/apps/" + appId), {
            downloaded: true
        });

        btn.style.display = "none";
        parent.querySelector(".gn-btn-update").style.display = "block";
        parent.querySelector(".gn-btn-uninstall").style.display = "block";
    });
});
</script>
</body>