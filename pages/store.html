<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <link rel="stylesheet" href="/stylesheets/ai_assistant.css">
    <title>Getnaro.app</title>
    <!-- FONTS & ICONS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- SEO + META -->
    <meta name="title" content="Getnaro ‚Äî Free Software, Drivers & Tools Download Hub">
    <meta name="description"
        content="Getnaro is your all-in-one download hub for Windows software, drivers, tools, utilities and essential apps. Fast, safe and direct downloads with no ads or redirects. Updated daily.">
    <meta name="keywords"
        content="Getnaro, software download, drivers download, free pc tools, windows apps download, downloader website, pc utilities, direct download hub">
    <meta name="author" content="Getnaro Team">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://getnaro.com/">
    <!-- SOCIAL -->

    <meta property="og:type" content="website">
    <meta property="og:title" content="Getnaro ‚Äî Free Software, Drivers & Tools Download Hub">
    <meta property="og:description"
        content="Download software, drivers, utilities and PC tools safely from Getnaro. Direct downloads without ads or redirects.">
    <meta property="og:image" content="https://getnaro.com/assets/getnaro-banner.jpg">
    <meta property="og:url" content="https://getnaro.com/">
    <meta name="twitter:card" content="summary_large_image">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' https: data: 'unsafe-inline' 'unsafe-eval';">
    <!-- FAVICON -->
    <link rel="icon" type="image/x-icon" href="/assests/Favicon.png">
    <style>
        /* Loading State for Dynamic Grid */
        .gn-grid-loader {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            grid-column: 1 / -1;
            padding: 50px 0;
        }
        .gn-spinner {
            border: 4px solid #222;
            border-top: 4px solid #9F00FF;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <canvas id="gn-particles"></canvas>
    <!-- ------------------ HEADER ------------------ -->
<div class="heading">

    <a href="/index.html"><img src="/assests/logo-getnaro-nobg.png" class="logo"></a>
    <h4>Getnaro</h4>
    <ul>
        <li><a href="/index.html" style="background-color:#9F00FF; color: white !important;
        padding: 10px ; 
        border-radius: 10px;"
        >HOME</a></li>
        <li><a href="/pages/community.html">COMMUNITY</a></li>
        <li><a href="/pages/login.html">ACCOUNT</a></li>
        <li><a href="/pages/about.html">ABOUT US</a></li>
        <li><a href="/pages/faq.html">FAQ</a></li>
    </ul>
<button id="theme-toggle" class="theme-toggle">
    <i id="theme-icon" class="fa-solid fa-moon"></i>
</button>
<div id="gn-search-btn" class="gn-search-btn">
    <i class="fa-solid fa-magnifying-glass"></i>
</div>
    <a class="dl"
        href="/pages/getnaro-app.html">
        <i class="fa-solid fa-download"></i> DOWNLOAD APP
    </a>
</div>
<!-- ========== GN MOBILE HAMBURGER (SAFE OUTSIDE HEADER) ========== -->
<button id="gn-hamburger" class="gn-hamburger" aria-expanded="false" aria-label="Open menu">
  <span class="gn-ham-box"><span class="gn-ham-inner"></span></span>
</button>

<nav id="gn-mobile-nav" class="gn-mobile-nav" aria-hidden="true">
  <div class="gn-mobile-backdrop" data-close></div>

  <div class="gn-mobile-panel" role="dialog" aria-modal="true">

    <!-- Mobile Search ‚Äî triggers existing #gn-search-btn -->
    <button class="gn-mobile-btn gn-mobile-search" type="button" aria-label="Open search">
      <i class="fa-solid fa-magnifying-glass" aria-hidden="true"></i> <span>Search</span>
    </button>

    <!-- Theme toggle ‚Äî triggers existing #theme-toggle -->
    <button class="gn-mobile-btn gn-mobile-theme" type="button" aria-label="Toggle theme">
      <i class="fa-solid fa-moon" aria-hidden="true"></i> <span>Theme</span>
    </button>

    <!-- EXACT UL you provided -->
    <ul class="gn-mobile-links" role="menu" aria-label="Mobile navigation">
      <li role="none"><a role="menuitem" href="/index.html">Home</a></li>
      <li role="none"><a role="menuitem" href="/pages/community.html">Community</a></li>
      <li role="none"><a role="menuitem" href="/pages/login.html">Account</a></li>
      <li role="none"><a role="menuitem" href="/pages/about.html">About Us</a></li>
      <li role="none"><a role="menuitem" href="/pages/faq.html">FAQ</a></li>
    </ul>

    <!-- Download App -->
     <a class="gn-mobile-download" href="/pages/getnaro-app.html">
      <i class="fa-solid fa-download" aria-hidden="true"></i> <span>Download App</span>
    </a>

  </div>
</nav>
<!-- ========== END GN MOBILE HAMBURGER ========== -->

<!-- REQUIRED: The FULLSCREEN SEARCH OVERLAY -->
<div id="gn-search-overlay" class="gn-search-overlay">
    <div class="gn-search-wrapper">
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <!-- CRITICAL: Input field must have the ID 'gn-search-input' -->
        <input type="text" id="gn-search-input" placeholder="Search here" style="overflow-x: hidden;" autocomplete="off">
        <button id="gn-search-close" class="close-btn">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>

    <!-- CRITICAL: Results container must have the ID 'gn-search-results' -->
    <div id="gn-search-results" class="gn-search-results">
        <!-- Results will be dynamically injected here by search.js -->
    </div>
</div>
<!-- ========== END GN MOBILE HAMBURGER ========== -->

<div id="gn-ai-root">
    <!-- Floating Button -->
    <div class="gn-ai-fab" id="gn-ai-trigger">
        <i class="fa-solid fa-robot" style="color: white !important;"></i>
        <span style="color: white !important;">Chat Now</span>
    </div>

    <div class="gn-ai-overlay" id="gn-ai-overlay">
        <div class="gn-ai-box">
            
            <!-- Header -->
            <div class="gn-ai-header">
                <div class="gn-ai-title">
                    <div class="gn-bot-avatar">
                        <i class="fa-solid fa-brain" style="color: aliceblue !important;"></i>
                    </div>
                    <div class="gn-ai-info">
                        <h3>Getnaro Assistant</h3>
                        <p>AI Powered ‚Ä¢ Voice Enabled</p>
                    </div>
                </div>
                <button class="gn-ai-close" id="gn-ai-close"><i class="fa-solid fa-xmark"></i></button>
            </div>

            <!-- Chat Area -->
            <div class="gn-ai-messages" id="gn-ai-chat">
                <!-- Intro Message -->
                <div class="msg bot">
                    Hello! I'm your Getnaro Assistant. I can help you find software, answer FAQs, or navigate the site.<br><br>
                    Try saying <b>"Install AMD Drivers"</b> or <b>"Open Profile"</b>.
                </div>
            </div>

            <!-- Input Area -->
            <div class="gn-ai-input-area">
                <button class="gn-ai-btn" id="btn-mic" title="Speak"><i class="fa-solid fa-microphone"></i></button>
                <button class="gn-ai-btn" id="btn-speaker" title="Text-to-Speech Toggle"><i class="fa-solid fa-volume-high"></i></button>
                <input type="text" class="gn-ai-input" id="gn-ai-input" placeholder="Type a message or ask a question..">
                <button class="gn-ai-btn" id="btn-send"><i class="fa-solid fa-paper-plane" style="color: aliceblue !important;"></i></button>
            </div>

        </div>
    </div>
</div>
<!-- REQUIRED: The FULLSCREEN SEARCH OVERLAY -->
<div id="gn-search-overlay" class="gn-search-overlay">
    <div class="gn-search-wrapper">
        <i class="fa-solid fa-magnifying-glass search-icon"></i>
        <!-- CRITICAL: Input field must have the ID 'gn-search-input' -->
        <input type="text" id="gn-search-input" placeholder="Search here" style="overflow-x: hidden;" autocomplete="off">
        <button id="gn-search-close" class="close-btn">
            <i class="fa-solid fa-xmark"></i>
        </button>
    </div>

    <!-- CRITICAL: Results container must have the ID 'gn-search-results' -->
    <div id="gn-search-results" class="gn-search-results">
        <!-- Results will be dynamically injected here by search.js -->
    </div>
</div>


<!-- ------------------ CAROUSEL ------------------ -->
<div class="gn-carousel" aria-roledescription="carousel">

    <div class="gn-carousel-track">

        <div class="gn-slide">
            <img src="/images/crimage-one.png">
            <div class="slide-content">
                <h5>Font Pack V1</h5>
                <a style="background-color:#9F00FF; color: white !important;" href="#"><i class="fa-solid fa-download" style="color: white !important;"></i> Download Now</a>
            </div>
        </div>

        <div class="gn-slide">
            <img src="/images/crimage-two.png">
            <div class="slide-content" >
                <h5>RTSS Overlay</h5>
                <a style="background-color:#9F00FF; color: white !important;" href="Library/Gn-Specials-ModernRTSSOverlay.ovx" download=""><i class="fa-solid fa-download" style="color: white !important;"></i> Download Now</a>
            </div>
        </div>

        <div class="gn-slide">
            <img src="/images/crimage-three.png" style="object-position: center 0px;">
            <div class="slide-content">
                <h5>Our Discord</h5>
                <a style="background-color:#9F00FF; color: white !important;" href="https://discord.gg/mcxbEsxXcQ"><i class="fa fa-external-link" aria-hidden="true" style="color: white !important;"></i> Join Now</a>
            </div>
        </div>

        <div class="gn-slide">
            <img src="/images/crimage-four.png">
            <div class="slide-content">
                <h5>Awesome Cursors</h5>
                <a style="background-color:#9F00FF; color: white !important;" href="Library/Blue Neon By Getnaro.zip" download=""><i class="fa-solid fa-download" style="color: white !important;"></i> Download Now</a>
            </div>
        </div>

    </div>

    <button class="gn-prev">&#10094;</button>
    <button class="gn-next">&#10095;</button>

</div>
<!-- ================= STATS BAR ================= -->
<div class="stats-container">
    
    <div class="stat-box">
        <div class="stat-number" id="stat-total-apps">0</div>
        <div class="stat-label">Total Apps</div>
    </div>

    <div class="stat-box">
        <div class="stat-number" id="stat-total-visits">0</div>
        <div class="stat-label">Total Visits</div>
    </div>

    <div class="stat-box">
        <div class="stat-number" id="stat-peak">0</div>
        <div class="stat-label">All-Time Peak Visitors</div>
    </div>

    <div class="stat-box">
        <div class="stat-number" id="stat-downloads">0</div>
        <div class="stat-label">Total Downloads</div>
    </div>

    <div class="stat-box">
        <div class="stat-number" id="stat-viewing">0</div>
        <div class="stat-label">Live Visitors</div>
    </div>
</div>

<!-- ================= CATEGORY TABS ================= -->
<div class="tabs">
    <button class="tab active" data-category="all">
        <i class="fa-solid fa-border-all"></i> All
    </button>

    <button class="tab" data-category="social">
        <i class="fa-brands fa-instagram"></i> Social Media
    </button>

    <button class="tab" data-category="tools">
        <i class="fa-solid fa-screwdriver-wrench"></i> Tools / Utilities
    </button>

    <button class="tab" data-category="opensource">
        <i class="fa-solid fa-code"></i> Open Source
    </button>

    <button class="tab" data-category="desi">
        <i class="fa-solid fa-indian-rupee-sign"></i> Desi Apps
    </button>

    <button class="tab" data-category="gaming">
        <i class="fa-solid fa-gamepad"></i> Gaming
    </button>

    <button class="tab" data-category="office">
        <i class="fa-solid fa-briefcase"></i> Office / Productivity
    </button>

    <button class="tab" data-category="drivers">
        <i class="fa-solid fa-microchip"></i> Drivers / System
    </button>

    <button class="tab" data-category="video">
        <i class="fa-solid fa-film"></i> Video / Graphics
    </button>
</div>
<div class="mobile-filter-container">
    <select id="mobile-category-dropdown">
        <option value="all">All Apps</option>
        <option value="social">Social Media</option>
        <option value="tools">Tools / Utilities</option>
        <option value="opensource">Open Source</option>
        <option value="desi">Desi Apps</option>
        <option value="gaming">Gaming</option>
        <option value="office">Office / Productivity</option>
        <option value="drivers">Drivers / System</option>
        <option value="video">Video / Graphics</option>
    </select>
</div>
<!-- ------------------ DOWNLOAD GRID ------------------ -->
<!-- DYNAMIC CONTENT CONTAINER (This is where DB apps load) -->
 <div class="container" id="apps-container">
        <div class="gn-grid-loader">
            <div class="gn-spinner"></div>
        </div>
        <!-- Apps will be injected here by JavaScript -->
    </div>
<h2 class="section-title"><i class="fa-solid fa-fire" style="color:#ff0055;"></i> Hot & Updated</h2>
<div class="container" id="hot-apps-container">
    <div class="gn-grid-loader"><div class="gn-spinner"></div></div>
</div>

<section class="gn-newsletter">
    <i class="fa-solid fa-envelope-open-text" style="font-size: 40px; color: #9F00FF; margin-bottom: 15px;"></i>
    <h3>Stay in the Loop</h3>
    <p>Get notified about new software drops, driver updates, and exclusive tools.</p>
    <form class="newsletter-form" onsubmit="event.preventDefault();">
        <input type="email" class="newsletter-input" placeholder="Enter your email address" required>
        <button type="submit" class="newsletter-btn">Subscribe</button>
    </form>
</section>
<!-- ================= FEATURE HIGHLIGHTS ================= -->
<section class="gn-features">
    <h2 class="gn-features-title">Why Choose Getnaro?</h2>

    <div class="gn-features-grid">

        <div class="gn-feature-box">
            <i class="fa-solid fa-bolt"></i>
            <h3>Direct Fast Downloads</h3>
            <p>No ads, no redirects ‚Äî just clean, safe, instant downloads.</p>
        </div>

        <div class="gn-feature-box">
            <i class="fa-solid fa-shield-halved"></i>
            <h3>100% Safe & Verified</h3>
            <p>Every file is scanned and trusted to keep your PC secure.</p>
        </div>

        <div class="gn-feature-box">
            <i class="fa-solid fa-cloud-arrow-down"></i>
            <h3>Always Up-to-Date</h3>
            <p>We track new releases and update apps daily.</p>
        </div>

        <div class="gn-feature-box">
            <i class="fa-solid fa-laptop"></i>
            <h3>Wide App Collection</h3>
            <p>Drivers, Tools, Office, Social, Gaming‚Ä¶ everything in one place.</p>
        </div>

    </div>
</section>
<footer class="footer">
    <div class="footer-container">

        <div class="footer-col">
            <h3>Getnaro</h3>
            <p>Official download redirection hub for Windows software, tools, utilities and drivers‚Äîclean, safe & ad-free.</p>
        </div>
        <div class="footer-col">
            <h3>Quick Links</h3>
            <a href="/pages/t&c.html">Terms & Conditions</a><br>
            <a href="/pages/coc.html">Code Of Conduct</a><br>
            <a href="/pages/privacypolicy.html">Privacy Policy</a><br>
            <a href="/pages/contact.html">Contact</a>
        </div>

        <div class="footer-col">
            <h3>Follow Us</h3>
            <div class="footer-social">
                 <a href="https://www.instagram.com/narotech.india" target="_blank"><i class="fa-brands fa-instagram"></i></a>
                <a href="https://discord.gg/mcxbEsxXcQ" target="_blank"><i class="fa-brands fa-discord"></i></a>
                <a href="https://whatsapp.com/channel/0029Vb7IFu7HwXbKP3roZa0E" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="https://www.reddit.com/r/narotech" target="_blank"><i class="fa-brands fa-reddit" ></i></a>
                <a href="https://www.youtube.com/@narotechofc" target="_blank"><i class="fa-brands fa-youtube"></i></a>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        ¬© 2025 Getnaro ‚Äî Developed by <a href="/pages/narotech.html" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">Narotech</a> ‚Ä¢ Hosted on GitHub ‚Ä¢ Domain by BigRock
    </div>
</footer>
<!-- Replace the TWO Firebase script blocks in store.html with this SINGLE one -->

<script type="module">
    // ‚úÖ FIXED: Use centralized Firebase config (same as view.html)
    import { mainApp } from "/scripts/firebase-config.js";
    import { getFirestore, collection, getDocs, query } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";
    import { getDatabase, ref, set } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-database.js";

    // ‚úÖ Use the already-initialized app from firebase-config.js
    const db = getFirestore(mainApp);
    const rtdb = getDatabase(mainApp);
    const container = document.getElementById('apps-container');

    async function fetchAndRenderApps() {
        // Show loader immediately
        if(container) {
            container.innerHTML = `
                <div class="gn-grid-loader">
                    <div class="gn-spinner"></div>
                </div>`;
        }

        try {
            console.log("Fetching apps from Firestore..."); 
            const q = query(collection(db, "apps")); 
            const querySnapshot = await getDocs(q);
            
            container.innerHTML = ''; 

            if (querySnapshot.empty) {
                container.innerHTML = '<p style="text-align:center; width:100%; color: #aaa;">Maintenance Mode.</p>';
                return;
            }

            let apps = [];
            querySnapshot.forEach((doc) => {
                apps.push({ id: doc.id, ...doc.data() });
            });
            
            // Stats update
            set(ref(rtdb, "stats/total_apps"), apps.length);

            apps.sort((a, b) => a.name.localeCompare(b.name));

            apps.forEach(app => {
                const imgSrc = app.image || '/assests/logo-getnaro-nobg.png';
                const category = (app.category || 'tools').toLowerCase();
                
                const card = document.createElement('div');
                card.className = 'content-one';
                card.setAttribute('data-category', category); 
                
                card.innerHTML = `
                    <img src="${imgSrc}" alt="${app.name}" onerror="this.src='/assests/logo-getnaro-nobg.png'">
                    <span class="tet">
                        <h5>${app.name}</h5>
                        <a href="/pages/view.html?id=${app.id}">DOWNLOAD</a>
                    </span>
                `;
                
                container.appendChild(card);
            });

            initTabs();

        } catch (error) {
            console.error("Error fetching apps:", error);
            container.innerHTML = `<p style="text-align:center; width:100%; color: red;">Failed to load apps.<br><small>${error.message}</small></p>`;
        }
    }

  function initTabs() {
        const tabs = document.querySelectorAll(".tab");
        const dropdown = document.getElementById("mobile-category-dropdown");
        
        // 1. Desktop: Button Click
        tabs.forEach(tab => {
            tab.addEventListener("click", () => {
                const category = tab.dataset.category;
                updateActiveState(category);
                filterContent(category);
            });
        });

        // 2. Mobile: Dropdown Selection
        if(dropdown) {
            // Use 'change' for standard dropdown behavior
            dropdown.addEventListener("change", (e) => {
                const category = e.target.value;
                updateActiveState(category);
                filterContent(category);
            });
        }

        // Helper to sync visual state between Tabs and Dropdown
        function updateActiveState(category) {
            // Update Desktop Buttons
            tabs.forEach(t => {
                if(t.dataset.category === category) t.classList.add("active");
                else t.classList.remove("active");
            });
            // Update Mobile Dropdown
            if(dropdown) dropdown.value = category;
        }
    }

    // 3. The Filter Logic
    function filterContent(category) {
        const items = document.querySelectorAll(".content-one");
        const container = document.getElementById('apps-container');

        if (category === "all") {
            container.classList.remove("filtered");
            items.forEach(item => {
                item.style.display = "flex"; // Reset to visible
            });
        } else {
            container.classList.add("filtered");
            items.forEach(item => {
                const itemCat = item.getAttribute('data-category');
                // Check if category matches
                if (itemCat && itemCat.includes(category)) {
                    item.style.display = "flex"; // Show
                } else {
                    item.style.display = "none"; // Hide
                }
            });
        }
    }

    document.addEventListener('DOMContentLoaded', fetchAndRenderApps);
</script>

<!-- ‚úÖ Keep all your other scripts BELOW (but REMOVE the duplicate Firebase init for ai_assistant) -->
<script src="/scripts/tod.js"></script>
<script src="/scripts/tog.js"></script>
<script src="/scripts/caro.js"></script>
<script src="/scripts/particles.js"></script>
<script src="/scripts/theme.js"></script>
<script src="/scripts/hamburger.js"></script>
<script type="module" src="/scripts/appstats.js"></script>
<script type="module" src="/scripts/app_tracking.js"></script>
<script type="module" src="/scripts/header_auth.js"></script>
<script type="module" src="/scripts/announcement.js"></script>
<script type="module" src="/scripts/download-index.js"></script>
<script type="module" src="/scripts/stats.js"></script>
<script type="module" src="/scripts/search.js"></script>
<script type="module" src="/scripts/ai_assistant.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

<script>
    // Initialize Firebase (using compat version for better compatibility)
    const firebaseConfig = {
        apiKey: "AIzaSyCtX1G_OEXmkKtBNGzWQFEYiEWibrMIFrg",
        authDomain: "user-getnaro.firebaseapp.com",
        databaseURL: "https://user-getnaro-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "user-getnaro",
        storageBucket: "user-getnaro.firebasestorage.app",
        messagingSenderId: "264425704576",
        appId: "1:264425704576:web:cfd98a1f627e9a59cc2a65"
    };
    
    // Initialize only if not already initialized
    if (!firebase.apps.length) {
        firebase.initializeApp(firebaseConfig);
        console.log('‚úÖ Firebase initialized');
    }
    
    const database = firebase.database();
    console.log('‚úÖ Database ready');
    
    // Custom Popup Function
    window.showSubscribePopup = function(message, isSuccess = true) {
        const existingPopup = document.querySelector('.gn-subscribe-popup');
        if (existingPopup) existingPopup.remove();
        
        const popup = document.createElement('div');
        popup.className = 'gn-subscribe-popup';
        popup.innerHTML = `
            <div class="gn-subscribe-box">
                <div class="popup-icon">
                    ${isSuccess 
                        ? '<i class="fa-solid fa-circle-check"></i>' 
                        : '<i class="fa-solid fa-circle-exclamation"></i>'}
                </div>
                <h3>${isSuccess ? 'Successfully Subscribed!' : 'Oops!'}</h3>
                <p>${message}</p>
                <button class="popup-close-btn" onclick="this.closest('.gn-subscribe-popup').remove()">
                    ${isSuccess ? 'Awesome!' : 'Got It'}
                </button>
            </div>
        `;
        
        document.body.appendChild(popup);
        setTimeout(() => popup.classList.add('show'), 10);
        
        setTimeout(() => {
            popup.classList.remove('show');
            setTimeout(() => popup.remove(), 300);
        }, 4000);
    };
    
    // Wait for DOM to load
    document.addEventListener('DOMContentLoaded', function() {
        const newsletterForm = document.querySelector('.newsletter-form');
        
        if (!newsletterForm) {
            console.warn('‚ö†Ô∏è Newsletter form not found');
            return;
        }
        
        console.log('‚úÖ Newsletter form found');
        
        newsletterForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            console.log('üìù Form submitted');
            
            const input = newsletterForm.querySelector('.newsletter-input');
            const btn = newsletterForm.querySelector('.newsletter-btn');
            const email = input.value.trim().toLowerCase();
            
            // Validation
            if (!email) {
                showSubscribePopup('Please enter a valid email address.', false);
                return;
            }
            
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                showSubscribePopup('Please enter a valid email format.', false);
                return;
            }
            
            // Visual Feedback
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Subscribing...';
            btn.disabled = true;
            
            try {
                console.log('üîÑ Processing subscription...');
                
                // Encode email for Firebase key (replace . with ,)
                const encodedEmail = email.replace(/\./g, ',');
                const subscriberRef = database.ref('newsletter_subscribers/' + encodedEmail);
                
                console.log('üì° Checking if already subscribed...');
                
                // Check if already subscribed
                subscriberRef.once('value', function(snapshot) {
                    if (snapshot.exists()) {
                        console.log('‚úÖ Already subscribed');
                        showSubscribePopup('You\'re already on our list! üéâ', false);
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                    } else {
                        console.log('üíæ Saving new subscriber...');
                        
                        // Save to RTDB
                        subscriberRef.set({
                            email: email,
                            name: email.split('@')[0],
                            subscribedAt: Date.now(),
                            source: 'store_page',
                            status: 'active'
                        }).then(function() {
                            console.log('‚úÖ Successfully subscribed!');
                            showSubscribePopup('Welcome to Getnaro! You\'ll receive updates on new apps, exclusive features, and more.', true);
                            input.value = "";
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }).catch(function(error) {
                            console.error('‚ùå Save Error:', error);
                            showSubscribePopup('Something went wrong. Please try again later.', false);
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        });
                    }
                }, function(error) {
                    console.error('‚ùå Check Error:', error);
                    showSubscribePopup('Something went wrong. Please try again later.', false);
                    btn.innerHTML = originalText;
                    btn.disabled = false;
                });
                
            } catch (error) {
                console.error('‚ùå Subscribe Error:', error);
                showSubscribePopup('Something went wrong. Please try again later.', false);
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        });
        
        console.log('‚úÖ Newsletter system ready');
    });
</script>
<script>
    async function fetchAndRenderApps() {
        const container = document.getElementById('apps-container');
        const hotContainer = document.getElementById('hot-apps-container');

        // Loaders
        if(container) container.innerHTML = '<div class="gn-grid-loader"><div class="gn-spinner"></div></div>';
        if(hotContainer) hotContainer.innerHTML = '<div class="gn-grid-loader"><div class="gn-spinner"></div></div>';

        try {
            console.log("Fetching apps from Firestore..."); 
            const q = query(collection(db, "apps")); 
            const querySnapshot = await getDocs(q);
            
            // Clear Loaders
            container.innerHTML = ''; 
            hotContainer.innerHTML = '';

            if (querySnapshot.empty) {
                container.innerHTML = '<p style="text-align:center; width:100%; color: #aaa;">Maintenance Mode.</p>';
                return;
            }

            let apps = [];
            querySnapshot.forEach((doc) => {
                apps.push({ id: doc.id, ...doc.data() });
            });
            
            // Stats update
            set(ref(rtdb, "stats/total_apps"), apps.length);
            
            // Sort Alphabetically
            apps.sort((a, b) => a.name.localeCompare(b.name));

            // --- RENDER FUNCTION ---
            apps.forEach(app => {
                const imgSrc = app.image || '/assests/logo-getnaro-nobg.png';
                const category = (app.category || 'tools').toLowerCase();
                
                // 1. DETERMINE BADGE
                // You can add a 'badge' field in Firestore: 'hot', 'new', 'updated'
                // If missing, we simulate it for demo purposes based on category/logic
                let badgeHTML = '';
                if (app.badge === 'hot' || (!app.badge && Math.random() > 0.8)) {
                    badgeHTML = `<span class="gn-badge badge-hot">HOT</span>`;
                } else if (app.badge === 'new' || (!app.badge && Math.random() > 0.8)) {
                    badgeHTML = `<span class="gn-badge badge-new">NEW</span>`;
                } else if (app.badge === 'updated') {
                    badgeHTML = `<span class="gn-badge badge-updated">UPDATED</span>`;
                }

                // 2. SMALL INFO (Version & Size)
                // Assumes fields 'version' and 'size' exist in Firestore, else uses defaults
                const metaInfo = `v${app.version || '1.0'} ‚Ä¢ ${app.size || 'Unknown'}`;

                // Create Card HTML
                const cardHTML = `
                    <div class="content-one" data-category="${category}">
                        ${badgeHTML} <img src="${imgSrc}" alt="${app.name}" onerror="this.src='/assests/logo-getnaro-nobg.png'">
                        <span class="tet">
                            <h5>${app.name}</h5>
                            <span class="app-meta">${metaInfo}</span> <a href="/pages/view.html?id=${app.id}">DOWNLOAD</a>
                        </span>
                    </div>
                `;

                // 3. INJECT INTO MAIN CONTAINER
                container.insertAdjacentHTML('beforeend', cardHTML);

                // 4. INJECT INTO HOT/UPDATED CONTAINER (If applicable)
                if (badgeHTML !== '') {
                    // We clone the logic for the hot section
                    hotContainer.insertAdjacentHTML('beforeend', cardHTML);
                }
            });
            
            // If no hot apps found, hide the section loader
            if(hotContainer.innerHTML === '') {
                hotContainer.innerHTML = '<p style="width:100%; text-align:center; color:#666;">No recent updates.</p>';
            }

            initTabs();

        } catch (error) {
            console.error("Error fetching apps:", error);
            container.innerHTML = `<p style="text-align:center; width:100%; color: red;">Failed to load apps.<br><small>${error.message}</small></p>`;
        }
    }
</script>
</body>
</html>
</body>
</html>